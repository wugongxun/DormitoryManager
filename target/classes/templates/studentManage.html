<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="canonical" href="https://getbootstrap.com/docs/3.4/examples/dashboard/">

    <title>学生管理</title>
    <!-- jQuery (Bootstrap 的所有 JavaScript 插件都依赖 jQuery，所以必须放在前边) -->
    <script src="https://fastly.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js" integrity="sha384-nvAa0+6Qg9clwYCGGPpDQLVpLNn0fRaROjHqs13t4Ggj3Ez50XnGQqc/r8MhnRDZ" crossorigin="anonymous"></script>

    <!-- Bootstrap core CSS -->
    <link href="https://fastly.jsdelivr.net/npm/@bootcss/v3.bootcss.com@1.0.35/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <link href="https://fastly.jsdelivr.net/npm/@bootcss/v3.bootcss.com@1.0.35/assets/css/ie10-viewport-bug-workaround.css" rel="stylesheet">

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <link href="https://fastly.jsdelivr.net/npm/@bootcss/v3.bootcss.com@1.0.35/assets/css/ie10-viewport-bug-workaround.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link th:href="@{/static/css/index.css}" href="../static/css/index.css" rel="stylesheet">

    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="https://fastly.jsdelivr.net/npm/@bootcss/v3.bootcss.com@1.0.35/assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <script src="https://fastly.jsdelivr.net/npm/@bootcss/v3.bootcss.com@1.0.35/assets/js/ie-emulation-modes-warning.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <script type="text/javascript">
        $(function () {



            /*添加班级*/
            $("#saveNewClass").click(function () {
                // let selectedAcademy = $("#selectAcademyInModal option:selected").val();
                // let selectedMajor = $("#selectMajorInModal option:selected").val();
                // let selectedClass = $("#selectClassInModal option:selected").val();
                let inputAcademy = $("#selectAcademyInModal").val();
                let inputMajor = $("#selectMajorInModal").val();
                let inputClass = $("#selectClassInModal").val();
                $.ajax({
                    url: "/addNewClassWhitAcademyAndMajor",
                    data: "newAcademy=" + inputAcademy + "&newMajor=" + inputMajor + "&newClass=" + inputClass,
                    type: "POST",
                    success: function (result) {
                        if (result.statusCode == 100) {
                            $("#closeModal").click();
                        } else {
                            alert(result.message);
                        }
                    }
                });
            });

            //关闭模态框直接刷新页面
            $(".closeModal").click(function () {
                window.location.reload();
            });

            $("#selectAcademyInModal").on("change", function () {
                $("#selectMajorInModal option").remove();
                $("#selectClassInModal option").remove();
                $("<option style='display: none;' disabled selected>请选择班级</option>").appendTo("#selectClassInModal");
                let selectedAcademyId = $("#selectAcademyInModal option:selected").val();
                if (selectedAcademyId == "selfInput") {
                    $("#selectAcademyInModal").remove();
                    $("#selectMajorInModal").remove();
                    $("#selectClassInModal").remove();
                    $("<input type='text' class='form-control' id='selectAcademyInModal' placeholder='请输入学院名称'>").appendTo("#selectAcademyInModalDiv");
                    $("<input type='text' class='form-control' id='selectMajorInModal' placeholder='请输入专业名称'>").appendTo("#selectMajorInModalDiv");
                    $("<input type='text' class='form-control' id='selectClassInModal' placeholder='请输入班级名称'>").appendTo("#selectClassInModalDiv");
                    return;
                }
                $.ajax({
                    url: "/queryAllMajorByAcademyId",
                    data: "academyId=" + selectedAcademyId,
                    type: "POST",
                    success: function (result) {
                        if (result.statusCode == 200) {
                            alert(result.message);
                        }else {
                            let majorList = result.attributes.majorList;
                            $("<option style='display: none;' disabled selected>请选择专业</option>").appendTo("#selectMajorInModal");
                            for (let i = 0; i < majorList.length; i++) {
                                let major = majorList[i];
                                // <option style="display: none;" disabled selected>请选择学院</option>
                                $("<option></option>").text(major.majorName).val(major.majorId).appendTo("#selectMajorInModal");
                            }
                            // <option value="selfInput">输入</option>
                            $("<option value='selfInput'></option>").text("输入").appendTo("#selectMajorInModal");
                        }

                    }
                });
            });

            $("#selectMajorInModal").on("change", function () {
                $("#selectClassInModal option").remove();
                let selectedMajorId = $("#selectMajorInModal option:selected").val();
                if (selectedMajorId == "selfInput") {
                    $("#selectMajorInModal").remove();
                    $("#selectClassInModal").remove();
                    $("<input type='text' class='form-control' id='selectMajorInModal' placeholder='请输入专业名称'>").appendTo("#selectMajorInModalDiv");
                    $("<input type='text' class='form-control' id='selectClassInModal' placeholder='请输入班级名称'>").appendTo("#selectClassInModalDiv");
                    return;
                }
                $.ajax({
                    url: "/queryAllClassByMajorId",
                    data: "majorId=" + selectedMajorId,
                    type: "POST",
                    success: function (result) {
                        if (result.statusCode == 200) {
                            alert(result.message);
                        }else {
                            let classInfoList = result.attributes.classInfoList;
                            $("<option style='display: none;' disabled selected>请选择班级</option>").appendTo("#selectClassInModal");
                            for (let i = 0; i < classInfoList.length; i++) {
                                let classInfo = classInfoList[i];
                                $("<option></option>").text(classInfo.className).val(classInfo.classId).appendTo("#selectClassInModal");
                            }
                            $("<option value='selfInput'></option>").text("输入").appendTo("#selectClassInModal");
                        }
                    }
                });
            });

            $("#selectClassInModal").on("change", function () {
                let selectedClassId = $("#selectClassInModal option:selected").val();
                if (selectedClassId == "selfInput") {
                    $("#selectClassInModal").remove();
                    $("<input type='text' class='form-control' id='selectClassInModal' placeholder='请输入班级名称'>").appendTo("#selectClassInModalDiv");
                }
            });

            /*选择学院查询专业*/
            $("#selectAcademy").on("change", function () {
                $("#selectMajor option").remove();
                $("#selectClass option").remove();
                $("<option style='display: none;' disabled selected>请选择班级</option>").appendTo("#selectClass");
                let selectedAcademyId = $("#selectAcademy option:selected").val();
                $.ajax({
                    url: "/queryAllMajorByAcademyId",
                    data: "academyId=" + selectedAcademyId,
                    type: "POST",
                    success: function (result) {
                        if (result.statusCode == 200) {
                            alert(result.message);
                        }else {
                            let majorList = result.attributes.majorList;
                            $("<option style='display: none;' disabled selected>请选择专业</option>").appendTo("#selectMajor");
                            for (let i = 0; i < majorList.length; i++) {
                                let major = majorList[i];
                                // <option style="display: none;" disabled selected>请选择学院</option>
                                $("<option></option>").text(major.majorName).val(major.majorId).appendTo("#selectMajor");
                            }
                        }
                    }
                });
            });
            /*选择专业查询班级*/
            $("#selectMajor").on("change", function () {
                $("#selectClass option").remove();
               let selectedMajorId = $("#selectMajor option:selected").val();
               $.ajax({
                   url: "/queryAllClassByMajorId",
                   data: "majorId=" + selectedMajorId,
                   type: "POST",
                   success: function (result) {
                       if (result.statusCode == 200) {
                           alert(result.message);
                       }else {
                           let classInfoList = result.attributes.classInfoList;
                           $("<option style='display: none;' disabled selected>请选择班级</option>").appendTo("#selectClass");
                           for (let i = 0; i < classInfoList.length; i++) {
                               let classInfo = classInfoList[i];
                               $("<option></option>").text(classInfo.className).val(classInfo.classId).appendTo("#selectClass");
                           }
                       }
                   }
               });
            });

            /*添加班级模态框*/
            $("#addClassButton").click(function () {
                $("#addClassModal").modal({
                    backdrop: "static"
                });
            });

            /*添加学生模态框*/
            $("#addStudentButton").click(function () {
                $("#addStudentModal").modal({
                    backdrop: "static"
                });
                /*查询所有的宿舍*/
                $.ajax({
                    url: "/queryAllDormitory",
                    type: "GET",
                    success: function (result) {
                        if (result.statusCode == 200) {
                            alert(result.message);
                        } else {
                            let dormitoryInfoList = result.attributes.dormitoryInfoList;
                            for (let i = 0; i < dormitoryInfoList.length; i++) {
                                let dormitoryInfo = dormitoryInfoList[i];
                                // <option value="219204">219#204</option>
                                $("<option></option>").val(dormitoryInfo.dormitoryId).text(dormitoryInfo.buildingId + "#" + dormitoryInfo.floorId).appendTo("#selectDormitoryInAddStudentModal");
                            }
                        }
                    }
                });
            });
            /*选择学院查询专业*/
            $("#selectAcademyInAddStudentModal").on("change", function () {
                $("#selectMajorInAddStudentModal option").remove();
                $("#selectClassInAddStudentModal option").remove();
                $("<option style='display: none;' disabled selected>请选择班级</option>").appendTo("#selectClassInAddStudentModal");
                let selectedAcademyId = $("#selectAcademyInAddStudentModal option:selected").val();
                $.ajax({
                    url: "/queryAllMajorByAcademyId",
                    data: "academyId=" + selectedAcademyId,
                    type: "POST",
                    success: function (result) {
                        if (result.statusCode == 200) {
                            alert(result.message);
                        }else {
                            let majorList = result.attributes.majorList;
                            $("<option style='display: none;' disabled selected>请选择专业</option>").appendTo("#selectMajorInAddStudentModal");
                            for (let i = 0; i < majorList.length; i++) {
                                let major = majorList[i];
                                // <option style="display: none;" disabled selected>请选择学院</option>
                                $("<option></option>").text(major.majorName).val(major.majorId).appendTo("#selectMajorInAddStudentModal");
                            }
                        }
                    }
                });
            });
            /*选择专业查询班级*/
            $("#selectMajorInAddStudentModal").on("change", function () {
                $("#selectClassInAddStudentModal option").remove();
                let selectedMajorId = $("#selectMajorInAddStudentModal option:selected").val();
                $.ajax({
                    url: "/queryAllClassByMajorId",
                    data: "majorId=" + selectedMajorId,
                    type: "POST",
                    success: function (result) {
                        if (result.statusCode == 200) {
                            alert(result.message);
                        }else {
                            let classInfoList = result.attributes.classInfoList;
                            $("<option style='display: none;' disabled selected>请选择班级</option>").appendTo("#selectClassInAddStudentModal");
                            for (let i = 0; i < classInfoList.length; i++) {
                                let classInfo = classInfoList[i];
                                $("<option></option>").text(classInfo.className).val(classInfo.classId).appendTo("#selectClassInAddStudentModal");
                            }
                        }
                    }
                });
            });

            /*检查添加学生表单完整性*/
            /*以后再写*/

            /*删除学生*/
            $(".deleteStudent").click(function () {
                let studentId = $(this).val();
                if (confirm("你确定要删除" + studentId + "吗?")) {
                    $.ajax({
                        url: "/student/" + studentId,
                        type: "DELETE",
                        success: function (result) {
                            window.location.reload();
                            alert(result.message);
                        }
                    });
                }
            });
            /*获取学生*/
            $(".updateStudent").click(function () {
                let studentId = $(this).val();
                $.ajax({
                    url: "/student/" + studentId,
                    type: "GET",
                    success: function (result) {
                        if (result.statusCode == 100) {
                            $("#updateStudentModal").modal({
                                backdrop: "static"
                            });
                            let student = result.attributes.student;
                            $("#updateStudentId").val(student.studentId);
                            $("[value=" + student.academyId + "]").attr("selected", "selected");
                            $("#updateStudentName").val(student.studentName)
                            $("#updateStudentPassword").val(student.password);
                            $("#updateStudentAddress").val(student.address);
                            $("#updateStudentIdNumber").val(student.idNumber);
                            $("#updateStudentPhoneNumber").val(student.phoneNumber);
                            $("#updateStudentGrade").val(student.grade);
                            if (student.gender == "男") {
                                $("#updateStudentGender_man").attr("checked", "checked");
                            } else {
                                $("#updateStudentGender_woman").attr("checked", "checked");
                            }
                            $.ajax({
                                url: "/queryAllMajorByAcademyId",
                                data: "academyId=" + student.academyId,
                                type: "POST",
                                success: function (result) {
                                    if (result.statusCode == 200) {
                                        alert(result.message);
                                    }else {
                                        let majorList = result.attributes.majorList;
                                        for (let i = 0; i < majorList.length; i++) {
                                            let major = majorList[i];
                                            if (student.majorId == major.majorId) {
                                                $("<option selected></option>").text(major.majorName).val(major.majorId).appendTo("#selectMajorInUpdateStudentModal");
                                            } else {
                                                $("<option></option>").text(major.majorName).val(major.majorId).appendTo("#selectMajorInUpdateStudentModal");
                                            }
                                        }
                                    }
                                }
                            });
                            $.ajax({
                                url: "/queryAllClassByMajorId",
                                data: "majorId=" + student.majorId,
                                type: "POST",
                                success: function (result) {
                                    if (result.statusCode == 200) {
                                        alert(result.message);
                                    }else {
                                        let classInfoList = result.attributes.classInfoList;
                                        for (let i = 0; i < classInfoList.length; i++) {
                                            let classInfo = classInfoList[i];
                                            if (student.classId == classInfo.classId) {
                                                $("<option selected></option>").text(classInfo.className).val(classInfo.classId).appendTo("#selectClassInUpdateStudentModal");
                                            } else {
                                                $("<option></option>").text(classInfo.className).val(classInfo.classId).appendTo("#selectClassInUpdateStudentModal");
                                            }
                                        }
                                    }
                                }
                            });
                            /*查询所有的宿舍*/
                            $.ajax({
                                url: "/queryAllDormitory",
                                type: "GET",
                                success: function (result) {
                                    if (result.statusCode == 200) {
                                        alert(result.message);
                                    } else {
                                        let dormitoryInfoList = result.attributes.dormitoryInfoList;
                                        for (let i = 0; i < dormitoryInfoList.length; i++) {
                                            let dormitoryInfo = dormitoryInfoList[i];
                                            // <option value="219204">219#204</option>
                                            if (student.dormitoryId == dormitoryInfo.dormitoryId) {
                                                $("<option selected></option>").val(dormitoryInfo.dormitoryId).text(dormitoryInfo.buildingId + "#" + dormitoryInfo.floorId).appendTo("#selectDormitoryInUpdateStudentModal");
                                            } else {
                                                $("<option></option>").val(dormitoryInfo.dormitoryId).text(dormitoryInfo.buildingId + "#" + dormitoryInfo.floorId).appendTo("#selectDormitoryInUpdateStudentModal");
                                            }
                                        }
                                    }
                                }
                            });
                        }
                    }
                });
            });

            /*选择学院查询专业*/
            $("#selectAcademyInUpdateStudentModal").on("change", function () {
                $("#selectMajorInUpdateStudentModal option").remove();
                $("#selectClassInUpdateStudentModal option").remove();
                $("<option style='display: none;' disabled selected>请选择班级</option>").appendTo("#selectClassInUpdateStudentModal");
                let selectedAcademyId = $("#selectAcademyInUpdateStudentModal option:selected").val();
                $.ajax({
                    url: "/queryAllMajorByAcademyId",
                    data: "academyId=" + selectedAcademyId,
                    type: "POST",
                    success: function (result) {
                        if (result.statusCode == 200) {
                            alert(result.message);
                        }else {
                            let majorList = result.attributes.majorList;
                            $("<option style='display: none;' disabled selected>请选择专业</option>").appendTo("#selectMajorInUpdateStudentModal");
                            for (let i = 0; i < majorList.length; i++) {
                                let major = majorList[i];
                                // <option style="display: none;" disabled selected>请选择学院</option>
                                $("<option></option>").text(major.majorName).val(major.majorId).appendTo("#selectMajorInUpdateStudentModal");
                            }
                        }
                    }
                });
            });
            /*选择专业查询班级*/
            $("#selectMajorInUpdateStudentModal").on("change", function () {
                $("#selectClassInUpdateStudentModal option").remove();
                let selectedMajorId = $("#selectMajorInUpdateStudentModal option:selected").val();
                $.ajax({
                    url: "/queryAllClassByMajorId",
                    data: "majorId=" + selectedMajorId,
                    type: "POST",
                    success: function (result) {
                        if (result.statusCode == 200) {
                            alert(result.message);
                        }else {
                            let classInfoList = result.attributes.classInfoList;
                            $("<option style='display: none;' disabled selected>请选择班级</option>").appendTo("#selectClassInUpdateStudentModal");
                            for (let i = 0; i < classInfoList.length; i++) {
                                let classInfo = classInfoList[i];
                                $("<option></option>").text(classInfo.className).val(classInfo.classId).appendTo("#selectClassInUpdateStudentModal");
                            }
                        }
                    }
                });
            });



        });
    </script>

</head>

<body>

    <!--修改学生模态框-->
    <div class="modal fade" tabindex="-1" role="dialog" id="updateStudentModal">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">修改学生</h4>
                </div>
                <div class="modal-body">
                    <form class="form-horizontal" th:action="@{/student}" method="post">
                        <!--修改表单提交方式为put请求-->
                        <input type="hidden" name="_method" value="put">
                        <input type="hidden" name="studentId" id="updateStudentId">

                        <div class="form-group" id="selectAcademyInUpdateStudentModalDiv">
                            <label for="selectAcademyInUpdateStudentModal" class="col-sm-2 control-label">学院</label>
                            <div class="col-sm-10">
                                <select class="form-control" id="selectAcademyInUpdateStudentModal" name="academyId">
                                    <th:block th:each="academy : ${academies}">
                                        <option th:text="${academy.academyName}" th:value="${academy.academyId}"></option>
                                    </th:block>
                                    <!--                                    <option value="1000">电子信息工程学院</option>-->
                                    <!--                                    <option value="2000">电气与光电工程学院</option>-->
                                    <!--                                    <option value="3000">材料与化工学院</option>-->
                                    <!--                                    <option value="4000">生物与制药工程学院</option>-->
                                </select>
                            </div>
                        </div>

                        <div class="form-group" id="selectMajorInUpdateStudentModalDiv">
                            <label for="selectMajorInUpdateStudentModal" class="col-sm-2 control-label">专业</label>
                            <div class="col-sm-10">
                                <select class="form-control" id="selectMajorInUpdateStudentModal" name="majorId">
                                    <!--                                    <option>电子信息科学与技术</option>-->
                                    <!--                                    <option>计算机科学与技术</option>-->
                                    <!--                                    <option>通信工程</option>-->
                                    <!--                                    <option>网络工程</option>-->
                                    <!--                                    <option>电子信息工程</option>-->
                                </select>
                            </div>
                        </div>

                        <div class="form-group" id="selectClassInUpdateStudentModalDiv">
                            <label for="selectClassInAddStudentModal" class="col-sm-2 control-label">班级</label>
                            <div class="col-sm-10">
                                <select class="form-control" id="selectClassInUpdateStudentModal" name="classId">
                                    <!--                                    <option>电子信息科学与技术1801</option>-->
                                    <!--                                    <option>电子信息科学与技术1802</option>-->
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="addStudentName" class="col-sm-2 control-label">姓名</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" id="updateStudentName" name="studentName">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="addStudentPassword" class="col-sm-2 control-label">密码</label>
                            <div class="col-sm-10">
                                <input type="password" class="form-control" id="updateStudentPassword" name="password">
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-sm-offset-2 col-sm-10" id="updateStudentGenderDiv">
                                <label class="radio-inline">
                                    <input type="radio" name="gender" value="男" id="updateStudentGender_man"> 男
                                </label>
                                <label class="radio-inline">
                                    <input type="radio" name="gender" value="女" id="updateStudentGender_woman"> 女
                                </label>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="updateStudentAddress" class="col-sm-2 control-label">地址</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" id="updateStudentAddress" name="address">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="updateStudentIdNumber" class="col-sm-2 control-label">身份证</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" id="updateStudentIdNumber" name="idNumber">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="updateStudentPhoneNumber" class="col-sm-2 control-label">联系方式</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" id="updateStudentPhoneNumber" name="phoneNumber">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="updateStudentGrade" class="col-sm-2 control-label">年级</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" id="updateStudentGrade" name="grade">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="selectDormitoryInUpdateStudentModal" class="col-sm-2 control-label">所在宿舍</label>
                            <div class="col-sm-10">
                                <select class="form-control" id="selectDormitoryInUpdateStudentModal" name="dormitoryId">
                                    <!--                                    <option value="219204">219#204</option>-->
                                </select>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default closeModal" data-dismiss="modal">关闭</button>
                            <button type="submit" class="btn btn-primary" id="saveUpdateStudent">保存</button>
                        </div>
                    </form>
                </div>
                <!--                <div class="modal-footer">-->
                <!--                    <button type="button" class="btn btn-default closeModal" data-dismiss="modal">关闭</button>-->
                <!--                    <button type="button" class="btn btn-primary" id="saveNewStudent">保存</button>-->
                <!--                </div>-->
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->

    <!--添加学生模态框-->
    <div class="modal fade" tabindex="-1" role="dialog" id="addStudentModal">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">添加学生</h4>
                </div>
                <div class="modal-body">
                    <form class="form-horizontal" th:action="@{/student}" method="post">

                        <div class="form-group" id="selectAcademyInAddStudentModalDiv">
                            <label for="selectAcademyInAddStudentModal" class="col-sm-2 control-label">学院</label>
                            <div class="col-sm-10">
                                <select class="form-control" id="selectAcademyInAddStudentModal" name="academyId">
                                    <option style="display: none;" disabled selected>请选择学院</option>
                                    <th:block th:each="academy : ${academies}">
                                        <option th:text="${academy.academyName}" th:value="${academy.academyId}"></option>
                                    </th:block>
<!--                                    <option value="1000">电子信息工程学院</option>-->
<!--                                    <option value="2000">电气与光电工程学院</option>-->
<!--                                    <option value="3000">材料与化工学院</option>-->
<!--                                    <option value="4000">生物与制药工程学院</option>-->
                                </select>
                            </div>
                        </div>

                        <div class="form-group" id="selectMajorInAddStudentModalDiv">
                            <label for="selectMajorInAddStudentModal" class="col-sm-2 control-label">专业</label>
                            <div class="col-sm-10">
                                <select class="form-control" id="selectMajorInAddStudentModal" name="majorId">
                                    <option style="display: none;" disabled selected>请选择专业</option>
<!--                                    <option>电子信息科学与技术</option>-->
<!--                                    <option>计算机科学与技术</option>-->
<!--                                    <option>通信工程</option>-->
<!--                                    <option>网络工程</option>-->
<!--                                    <option>电子信息工程</option>-->
                                </select>
                            </div>
                        </div>

                        <div class="form-group" id="selectClassInAddStudentModalDiv">
                            <label for="selectClassInAddStudentModal" class="col-sm-2 control-label">班级</label>
                            <div class="col-sm-10">
                                <select class="form-control" id="selectClassInAddStudentModal" name="classId">
                                    <option style="display: none;" disabled selected>请选择班级</option>
<!--                                    <option>电子信息科学与技术1801</option>-->
<!--                                    <option>电子信息科学与技术1802</option>-->
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="addStudentId" class="col-sm-2 control-label">学号</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" id="addStudentId" placeholder="学号" name="studentId">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="addStudentName" class="col-sm-2 control-label">姓名</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" id="addStudentName" placeholder="姓名" name="studentName">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="addStudentPassword" class="col-sm-2 control-label">密码</label>
                            <div class="col-sm-10">
                                <input type="password" class="form-control" id="addStudentPassword" placeholder="密码" name="password">
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-sm-offset-2 col-sm-10">
                                <label class="radio-inline">
                                    <input type="radio" name="gender" value="男"> 男
                                </label>
                                <label class="radio-inline">
                                    <input type="radio" name="gender" value="女"> 女
                                </label>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="addStudentAddress" class="col-sm-2 control-label">地址</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" id="addStudentAddress" placeholder="地址" name="address">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="addStudentIdNumber" class="col-sm-2 control-label">身份证</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" id="addStudentIdNumber" placeholder="身份证" name="idNumber">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="addStudentPhoneNumber" class="col-sm-2 control-label">联系方式</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" id="addStudentPhoneNumber" placeholder="联系方式" name="phoneNumber">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="addStudentGrade" class="col-sm-2 control-label">年级</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" id="addStudentGrade" placeholder="年级" name="grade">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="selectDormitoryInAddStudentModal" class="col-sm-2 control-label">所在宿舍</label>
                            <div class="col-sm-10">
                                <select class="form-control" id="selectDormitoryInAddStudentModal" name="dormitoryId">
                                    <option style="display: none;" disabled selected>请选择宿舍</option>
<!--                                    <option value="219204">219#204</option>-->
                                </select>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default closeModal" data-dismiss="modal">关闭</button>
                            <button type="submit" class="btn btn-primary" id="saveNewStudent">保存</button>
                        </div>
                    </form>
                </div>
<!--                <div class="modal-footer">-->
<!--                    <button type="button" class="btn btn-default closeModal" data-dismiss="modal">关闭</button>-->
<!--                    <button type="button" class="btn btn-primary" id="saveNewStudent">保存</button>-->
<!--                </div>-->
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->

    <!--添加班级模态框-->
    <!-- Modal -->
    <div class="modal fade" id="addClassModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog modal-sm" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">添加班级</h4>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="form-group" id="selectAcademyInModalDiv">
                            <label for="selectAcademyInModal">学院</label>
                            <select class="form-control" id="selectAcademyInModal">
                                <option style="display: none;" disabled selected>请选择学院</option>
                                <th:block th:each="academy : ${academies}">
                                    <option th:text="${academy.academyName}" th:value="${academy.academyId}"></option>
                                </th:block>
<!--                                    <option value="1000">电子信息工程学院</option>-->
<!--                                    <option value="2000">电气与光电工程学院</option>-->
<!--                                    <option value="3000">材料与化工学院</option>-->
<!--                                    <option value="4000">生物与制药工程学院</option>-->
                                <option value="selfInput">输入</option>
                            </select>
                        </div>
                        <div class="form-group" id="selectMajorInModalDiv">
                            <label for="selectMajorInModal">专业</label>
                            <select class="form-control" id="selectMajorInModal">
                                <option style="display: none;" disabled selected>请选择专业</option>
<!--                                <option>电子信息科学与技术</option>-->
<!--                                <option>计算机科学与技术</option>-->
<!--                                <option>通信工程</option>-->
<!--                                <option>网络工程</option>-->
<!--                                <option>电子信息工程</option>-->
                                <option value="selfInput">输入</option>
                            </select>
                        </div>
                        <div class="form-group" id="selectClassInModalDiv">
                            <label for="selectClassInModal">班级</label>
                            <select class="form-control" id="selectClassInModal" name="classId">
                                <option style="display: none;" disabled selected>请选择班级</option>
<!--                                <option>电子信息科学与技术1801</option>-->
<!--                                <option>电子信息科学与技术1802</option>-->
                                <option value="selfInput">输入</option>
                            </select>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default closeModal" data-dismiss="modal">关闭</button>
                    <button type="button" class="btn btn-primary" id="saveNewClass">保存</button>
                </div>
            </div>
        </div>
    </div>


    <div th:insert="~{top-navbar.html}"></div>

    <div class="container-fluid">
        <div class="row">
            <div class="col-sm-3 col-md-2 sidebar">
                <ul class="nav nav-sidebar">
                    <li><a th:href="@{/}">首页</a></li>
                    <li><a th:href="@{/personalCenter}">个人中心</a></li>
                    <li><a th:href="@{/studentManage}">学生管理</a></li>
                    <li><a th:href="@{/dormitoryManage}">宿舍管理</a></li>
                    <li><a th:href="@{/sanitaryInspection}">卫生检查</a></li>
                    <li><a th:href="@{/paymentInformation}">缴费信息</a></li>
                    <li><a th:href="@{/repairFeedback}">报修反馈</a></li>
                    <li><a th:href="@{/dormitoryAnnouncement}">宿舍公告</a></li>
                </ul>
            </div>
            <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
                <h1 class="page-header">学生管理</h1>

                <div class="row">
                    <div class="col-md-12">
                        <form class="form-inline" th:action="@{/queryAllStudentsWithDormitoryNameByClassId}" method="get">
                            <div class="form-group">
                                <label for="selectAcademy">学院</label>
                                <select class="form-control" id="selectAcademy">
                                    <option style="display: none;" disabled selected>请选择学院</option>
                                    <th:block th:each="academy : ${academies}">
                                        <option th:text="${academy.academyName}" th:value="${academy.academyId}"></option>
                                    </th:block>
<!--                                    <option value="1000">电子信息工程学院</option>-->
<!--                                    <option value="2000">电气与光电工程学院</option>-->
<!--                                    <option value="3000">材料与化工学院</option>-->
<!--                                    <option value="4000">生物与制药工程学院</option>-->
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="selectMajor">专业</label>
                                <select class="form-control" id="selectMajor">
                                    <option style="display: none;" disabled selected>请选择专业</option>
<!--                                    <option>电子信息科学与技术</option>-->
<!--                                    <option>计算机科学与技术</option>-->
<!--                                    <option>通信工程</option>-->
<!--                                    <option>网络工程</option>-->
<!--                                    <option>电子信息工程</option>-->
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="selectClass">班级</label>
                                <select class="form-control" id="selectClass" name="classId">
                                    <option style="display: none;" disabled selected>请选择班级</option>
<!--                                    <option>电子信息科学与技术1801</option>-->
<!--                                    <option>电子信息科学与技术1802</option>-->
                                </select>
                            </div>
                            <button type="submit" class="btn btn-default">查询</button>
                        </form>

                    </div>
                </div>

                <div class="row">
                    <div class="col-md-10" th:if="${classInfo == null}">
                        <h2 class="sub-header">请先选择需要查询的班级</h2>
                    </div>
                    <div class="col-md-10" th:if="${classInfo != null}">
                        <h2 class="sub-header" th:text="${classInfo.className}">请先选择需要查询的班级</h2>
                    </div>
                    <th:block th:if="${session.administrator != null}">
                        <div class="col-md-2">
                            <button class="btn btn-info" id="addClassButton">添加班级</button>
                            <button class="btn btn-success" id="addStudentButton">添加学生</button>
                        </div>
                    </th:block>
                </div>

                <div class="row" th:if="${students != null}">
                    <div class="col-md-12">
                        <div class="table-responsive">
                            <table class="table table-striped table-hover text-center">
                                <thead>
                                <tr>
                                    <th class="text-center">学号</th>
                                    <th class="text-center">姓名</th>
                                    <th class="text-center">性别</th>
                                    <th class="text-center">地址</th>
                                    <th class="text-center">身份证号</th>
                                    <th class="text-center">手机号</th>
                                    <th class="text-center">所在宿舍</th>
                                    <th:block th:if="${session.administrator != null}">
                                        <th class="text-center">操作</th>
                                    </th:block>
                                </tr>
                                </thead>
                                <tbody>
                                <tr th:each="student : ${students}">
                                    <td th:text="${student.studentId}">2018011389</td>
                                    <td th:text="${student.studentName}">吴功勋</td>
                                    <td th:text="${student.gender}">男</td>
                                    <td th:text="${student.address}">安徽省安庆市宿松县</td>
                                    <td th:text="${student.idNumber}">340826199911174834</td>
                                    <td th:text="${student.phoneNumber}">15555664494</td>
                                    <td th:text="${student.buildingId} + '#' + ${student.floorId}">219#204</td>
                                    <th:block th:if="${session.administrator != null}">
                                        <td>
                                            <button class="btn btn-info updateStudent" th:value="${student.studentId}">修改</button>
                                            <button class="btn btn-danger deleteStudent" th:value="${student.studentId}">删除</button>
                                        </td>
                                    </th:block>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>





            </div>
        </div>

        <div th:insert="~{footer.html}"></div>
    </div>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://fastly.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js" integrity="sha384-nvAa0+6Qg9clwYCGGPpDQLVpLNn0fRaROjHqs13t4Ggj3Ez50XnGQqc/r8MhnRDZ" crossorigin="anonymous"></script>
    <script>window.jQuery || document.write('<script src="https://fastly.jsdelivr.net/npm/@bootcss/v3.bootcss.com@1.0.35/assets/js/vendor/jquery.min.js"><\/script>')</script>
    <script src="https://fastly.jsdelivr.net/npm/@bootcss/v3.bootcss.com@1.0.35/dist/js/bootstrap.min.js"></script>
    <!-- Just to make our placeholder images work. Don't actually copy the next line! -->
    <script src="https://fastly.jsdelivr.net/npm/@bootcss/v3.bootcss.com@1.0.35/assets/js/vendor/holder.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="https://fastly.jsdelivr.net/npm/@bootcss/v3.bootcss.com@1.0.35/assets/js/ie10-viewport-bug-workaround.js"></script>
</body>
</html>